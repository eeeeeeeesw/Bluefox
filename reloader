-- Reload and Kick script

local chatBotPrefix = "!"
local allowedUserID = 2236295191 -- Replace with the desired User ID

local function sendReloadMessageToChatBot(player)
    local reloadMessage = "Tested"
    game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer(reloadMessage, "All")
end

local function kickPlayerByUsername(player, targetUsername)
    local targetPlayer = game.Players:FindFirstChild(targetUsername)
    if targetPlayer then
        targetPlayer:Kick("You have been kicked.")
    else
        print("Player not found.")
    end
end

local function onChatted(player, message)
    local lowercaseMessage = string.lower(message)
    if lowercaseMessage:sub(1, 1) == chatBotPrefix then
        local args = {}
        for arg in lowercaseMessage:gmatch("%S+") do
            table.insert(args, arg)
        end

        local command = args[1]:sub(2)

        if command == "reload" then
            if player.UserId == allowedUserID then
                sendReloadMessageToChatBot(player)
            else
                print("no")
            end
        elseif command == "kick" and args[2] then
            if player.UserId == allowedUserID then
                kickPlayerByUsername(player, args[2])
            else
                print("no")
            end
        end
    end
end

for _, player in ipairs(game.Players:GetPlayers()) do
    player.Chatted:Connect(function(msg)
        onChatted(player, msg)
    end)
end
